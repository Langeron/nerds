var link=document.querySelector(".address_btn"),feedbackPopup=document.querySelector(".modal_feedback"),modalClose=document.querySelector(".button_close"),form=feedbackPopup.querySelector("form"),login=feedbackPopup.querySelector("[name=name]"),mail=feedbackPopup.querySelector("[name=mail]"),text=feedbackPopup.querySelector("textarea"),storageName=localStorage.getItem("name"),storageMail=localStorage.getItem("mail");link.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.add("modal_show"),storageName?(login.value=storageName,mail.focus(),storageMail?(mail.value=storageMail,text.focus()):mail.focus()):login.focus()}),modalClose.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.remove("modal_show"),feedbackPopup.classList.remove("modal_error")}),form.addEventListener("submit",function(e){login.value&&mail.value&&text.value?(localStorage.setItem("name",login.value),localStorage.setItem("mail",mail.value)):(e.preventDefault(),feedbackPopup.classList.remove("modal_error"),feedbackPopup.offsetWidth=feedbackPopup.offsetWidth,feedbackPopup.classList.add("modal_error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&feedbackPopup.classList.contains("modal_show")&&feedbackPopup.classList.remove("modal_show")});var latitude=59.939122,longitude=30.32153,map_zoom=17,marker_url="img/map-marker.png",map_options={center:new google.maps.LatLng(latitude,longitude),zoom:map_zoom},map=new google.maps.Map(document.getElementById("map"),map_options),marker=new google.maps.Marker({position:new google.maps.LatLng(59.938758,30.323757),map:map,visible:!0,icon:marker_url});